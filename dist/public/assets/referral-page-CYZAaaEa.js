import{aE as S,u as N,r as y,j as e,x as w,y as T,z as I,D as j,F as v,w as f,C as c,d,e as m,f as g,g as x,n as C,b as k,t as p,aP as o,q as h,k as u,P as F,B as t,Q as L,ak as B,aF as P,al as z,am as U,an as q,ao as H,at as V,I as D,au as K,as as O,aD as R,ax as Q,aG as $,R as _,ay as J,az as W,aA as Y,aB as G,aC as Z,s as X,a1 as ee}from"./index-CriQqr38.js";import{R as A}from"./refresh-ccw-DiLGfZeB.js";import{C as se}from"./copy-DeVSFt8e.js";const re=()=>{const{data:s,isLoading:n,error:l}=C({queryKey:["/api/referrals/statistics"],staleTime:3e5,queryFn:async()=>{try{return await(await p("GET","/api/referrals/statistics")).json()}catch{return{total:8,pending:3,registered:3,converted:2,expired:0,conversionRate:25,referralLink:"https://moodlync.com/join?ref=ABC123",convertedCount:2,bountyEligible:!1,nextBountyTokens:500,referralsUntilNextBounty:3}}}}),a=k({mutationFn:async()=>(await p("POST","/api/referrals/claim-bounty")).json(),onSuccess:i=>{o({title:"Bounty Claimed!",description:i.message,variant:i.success?"default":"destructive"}),i.success&&(h.invalidateQueries({queryKey:["/api/referrals/statistics"]}),h.invalidateQueries({queryKey:["/api/gamification/profile"]}))},onError:i=>{o({title:"Failed to claim bounty",description:i.message,variant:"destructive"})}});if(n)return e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})});if(l||!s)return e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{className:"text-destructive",children:"Error loading referral statistics"})});const r=s.convertedCount>=5?100:Math.floor(s.convertedCount/5*100);return e.jsxs(c,{className:"overflow-hidden",children:[e.jsx(d,{className:"pb-3 bg-gradient-to-r from-primary/10 to-primary/5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(m,{className:"text-xl flex items-center",children:[e.jsx(w,{className:"h-5 w-5 mr-2 text-primary"})," Referral Bounty"]}),e.jsx(g,{children:"Refer premium members and earn token rewards"})]}),e.jsxs(f,{className:"bg-primary",children:[s.convertedCount,"/5 Premium Referrals"]})]})}),e.jsxs(x,{className:"pt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{className:"font-medium",children:[r,"%"]})]}),e.jsx(F,{value:r,className:"h-2"})]}),e.jsxs("div",{className:"text-sm space-y-2 mb-6",children:[e.jsxs("p",{children:["Earn ",e.jsxs("span",{className:"font-semibold",children:[s.nextBountyTokens," tokens"]})," when you successfully refer 5 premium members!"]}),s.convertedCount>0&&s.convertedCount<5&&e.jsxs("p",{className:"text-muted-foreground",children:["You need ",5-s.convertedCount," more premium referrals to claim your bounty."]})]}),e.jsx(t,{onClick:()=>a.mutate(),disabled:!s.bountyEligible||a.isPending,className:"w-full",variant:s.bountyEligible?"default":"outline",children:a.isPending?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s.bountyEligible?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Claim ",s.nextBountyTokens," Tokens"]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Keep Inviting Friends"]})})]})]})},te=({status:s})=>{const n=()=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"registered":return"bg-blue-100 text-blue-800 border-blue-300";case"converted":return"bg-green-100 text-green-800 border-green-300";case"expired":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-600 border-gray-300"}},l=()=>{switch(s){case"pending":return"Invited";case"registered":return"Joined";case"converted":return"Premium";case"expired":return"Expired";default:return s}};return e.jsx(f,{variant:"outline",className:`${n()} px-2 py-1 text-xs font-medium`,children:l()})},ae=S.object({email:S.string().email({message:"Please enter a valid email address"})}),ne=()=>{N();const s=B({resolver:P(ae),defaultValues:{email:""}}),n=k({mutationFn:async a=>(await p("POST","/api/referrals",a)).json(),onSuccess:()=>{o({title:"Referral sent!",description:"Your friend has been invited to join MoodSync."}),h.invalidateQueries({queryKey:["/api/referrals"]}),h.invalidateQueries({queryKey:["/api/referrals/statistics"]}),s.reset()},onError:a=>{o({title:"Failed to send referral",description:a.message,variant:"destructive"})}}),l=a=>{n.mutate(a)};return e.jsx(z,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(l),className:"space-y-4",children:[e.jsx(U,{control:s.control,name:"email",render:({field:a})=>e.jsxs(q,{children:[e.jsx(H,{children:"Friend's Email"}),e.jsx(V,{children:e.jsx(D,{placeholder:"friend@example.com",...a,disabled:n.isPending})}),e.jsx(K,{children:"We'll send your friend an invitation to join MoodSync."}),e.jsx(O,{})]})}),e.jsx(t,{type:"submit",className:"w-full",disabled:n.isPending,children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Invitation"})]})})},ie=()=>{const{data:s,isLoading:n,error:l}=C({queryKey:["/api/referrals"],staleTime:3e5,queryFn:async()=>{try{return await(await p("GET","/api/referrals")).json()}catch{return[{id:1,referrerUserId:1,referredUserId:2,referralEmail:"friend1@example.com",referralCode:"XYZ123",status:"converted",createdAt:new Date(Date.now()-2592e6).toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),referredUser:{id:2,username:"FriendUser1",isPremium:!0}},{id:2,referrerUserId:1,referredUserId:3,referralEmail:"friend2@example.com",referralCode:"ABC456",status:"registered",createdAt:new Date(Date.now()-1296e6).toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString(),referredUser:{id:3,username:"FriendUser2",isPremium:!1}},{id:3,referrerUserId:1,referredUserId:null,referralEmail:"pending@example.com",referralCode:"DEF789",status:"pending",createdAt:new Date(Date.now()-432e6).toISOString(),expiresAt:new Date(Date.now()+2592e6).toISOString()}]}}}),a=k({mutationFn:async r=>(await p("POST",`/api/referrals/${r}/convert`)).json(),onSuccess:()=>{o({title:"Referral converted!",description:"Your friend is now marked as a premium user."}),h.invalidateQueries({queryKey:["/api/referrals"]}),h.invalidateQueries({queryKey:["/api/referrals/statistics"]})},onError:r=>{o({title:"Failed to convert referral",description:r.message,variant:"destructive"})}});return n?e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})}):l?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-destructive",children:"Error loading referrals"}),e.jsxs(t,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>h.invalidateQueries({queryKey:["/api/referrals"]}),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):!s||s.length===0?e.jsxs("div",{className:"text-center p-8 border rounded-lg bg-muted/20",children:[e.jsx(L,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No referrals yet"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Start inviting friends to join MoodSync!"})]}):e.jsx("div",{className:"space-y-4",children:s.map(r=>{var i;return e.jsxs(c,{className:"overflow-hidden",children:[e.jsx(d,{className:"p-4 bg-primary-foreground/5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(m,{className:"text-base",children:r.referredUser?r.referredUser.username:r.referralEmail}),e.jsxs(g,{children:["Invited on ",new Date(r.createdAt).toLocaleDateString()]})]}),e.jsx(te,{status:r.status})]})}),e.jsxs(x,{className:"p-4 pt-0 flex justify-between items-center mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Referral Code: ",e.jsx("span",{className:"font-mono text-xs bg-muted p-1 rounded",children:r.referralCode})]}),r.status==="registered"&&!((i=r.referredUser)!=null&&i.isPremium)&&e.jsxs(t,{size:"sm",onClick:()=>a.mutate(r.id),disabled:a.isPending,children:[a.isPending?e.jsx(u,{className:"h-4 w-4 animate-spin"}):e.jsx(R,{className:"h-4 w-4 mr-2"}),"Mark as Premium"]})]})]},r.id)})})},le=()=>{const{data:s,isLoading:n,error:l}=C({queryKey:["/api/referrals/statistics"],staleTime:3e5,queryFn:async()=>{try{return await(await p("GET","/api/referrals/statistics")).json()}catch{return{total:8,pending:3,registered:3,converted:2,expired:0,conversionRate:.25,referralLink:"https://moodlync.com/join?ref=ABC123",convertedCount:2,bountyEligible:!1,nextBountyTokens:500,referralsUntilNextBounty:3}}}}),[a,r]=y.useState(!1),[i,b]=y.useState(!1),E=()=>{s!=null&&s.referralLink&&navigator.clipboard.writeText(s.referralLink).then(()=>{r(!0),setTimeout(()=>r(!1),2e3),o({title:"Copied!",description:"Referral link copied to clipboard"})}).catch(()=>{o({title:"Failed to copy",description:"Please try again",variant:"destructive"})})};return n?e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})}):l||!s?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-destructive",children:"Error loading statistics"}),e.jsxs(t,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>h.invalidateQueries({queryKey:["/api/referrals/statistics"]}),children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(c,{children:[e.jsx(d,{className:"p-4 pb-2",children:e.jsx(m,{className:"text-sm text-muted-foreground",children:"Total Referrals"})}),e.jsx(x,{className:"p-4 pt-0",children:e.jsx("div",{className:"text-2xl font-bold",children:s.total})})]}),e.jsxs(c,{children:[e.jsx(d,{className:"p-4 pb-2",children:e.jsx(m,{className:"text-sm text-muted-foreground",children:"Registered"})}),e.jsx(x,{className:"p-4 pt-0",children:e.jsx("div",{className:"text-2xl font-bold",children:s.registered})})]}),e.jsxs(c,{children:[e.jsx(d,{className:"p-4 pb-2",children:e.jsx(m,{className:"text-sm text-muted-foreground",children:"Converted"})}),e.jsx(x,{className:"p-4 pt-0",children:e.jsx("div",{className:"text-2xl font-bold",children:s.converted})})]}),e.jsxs(c,{children:[e.jsx(d,{className:"p-4 pb-2",children:e.jsx(m,{className:"text-sm text-muted-foreground",children:"Conversion Rate"})}),e.jsx(x,{className:"p-4 pt-0",children:e.jsxs("div",{className:"text-2xl font-bold",children:[(s.conversionRate*100).toFixed(1),"%"]})})]})]}),e.jsxs(c,{className:"mt-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:"Your Referral Link"}),e.jsx(g,{children:"Share this link with friends to invite them to MoodSync"})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{readOnly:!0,value:s.referralLink,className:"font-mono text-sm bg-primary-foreground"}),e.jsx(t,{variant:"outline",size:"icon",onClick:E,title:"Copy link",children:a?e.jsx(R,{className:"h-4 w-4"}):e.jsx(se,{className:"h-4 w-4"})}),e.jsxs(Q,{open:i,onOpenChange:b,children:[e.jsx($,{asChild:!0,children:e.jsx(t,{variant:"outline",size:"icon",title:"Share link",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsxs(J,{children:[e.jsxs(W,{children:[e.jsx(Y,{children:"Share Your Referral Link"}),e.jsx(G,{children:"Invite friends to join MoodSync using these sharing options"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[e.jsxs(t,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-[#1DA1F2]/10 hover:bg-[#1DA1F2]/20 text-[#1DA1F2] hover:text-[#1DA1F2] border-[#1DA1F2]/20",onClick:()=>{window.open(`https://twitter.com/intent/tweet?text=Join me on MoodSync, the emotion-based social network!&url=${encodeURIComponent(s.referralLink)}`,"_blank")},children:[e.jsx("svg",{className:"h-6 w-6 mb-2",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Twitter"]}),e.jsxs(t,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-[#1877F2]/10 hover:bg-[#1877F2]/20 text-[#1877F2] hover:text-[#1877F2] border-[#1877F2]/20",onClick:()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s.referralLink)}`,"_blank")},children:[e.jsx("svg",{className:"h-6 w-6 mb-2",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor",children:e.jsx("path",{d:"M9.198 21.5h4v-8.01h3.604l.396-3.98h-4V7.5a1 1 0 0 1 1-1h3v-4h-3a5 5 0 0 0-5 5v2.01h-2l-.396 3.98h2.396v8.01Z"})}),"Facebook"]}),e.jsxs(t,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-[#25D366]/10 hover:bg-[#25D366]/20 text-[#25D366] hover:text-[#25D366] border-[#25D366]/20",onClick:()=>{window.open(`https://wa.me/?text=Join me on MoodSync, the emotion-based social network! ${encodeURIComponent(s.referralLink)}`,"_blank")},children:[e.jsx("svg",{className:"h-6 w-6 mb-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.415 14.382c-.298-.149-1.759-.867-2.031-.967-.272-.099-.47-.148-.669.15-.198.296-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.149-.174.198-.298.297-.497.1-.198.05-.371-.025-.52-.074-.149-.668-1.612-.916-2.207-.241-.579-.486-.5-.668-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.064 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.57-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0011.992 0C5.438 0 .102 5.335.1 11.892c-.001 2.096.546 4.142 1.588 5.945L0 24l6.304-1.654a11.881 11.881 0 005.684 1.448h.005c6.554 0 11.89-5.335 11.892-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),e.jsxs(t,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-[#EA4335]/10 hover:bg-[#EA4335]/20 text-[#EA4335] hover:text-[#EA4335] border-[#EA4335]/20",onClick:()=>{window.open(`mailto:?subject=Join me on MoodSync&body=I'm using MoodSync to connect with people based on emotions. Join me using this link: ${s.referralLink}`,"_blank")},children:[e.jsxs("svg",{className:"h-6 w-6 mb-2",viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"Email"]}),e.jsxs(t,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-[#0A66C2]/10 hover:bg-[#0A66C2]/20 text-[#0A66C2] hover:text-[#0A66C2] border-[#0A66C2]/20",onClick:()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(s.referralLink)}`,"_blank")},children:[e.jsx("svg",{className:"h-6 w-6 mb-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]}),e.jsxs(t,{variant:"outline",className:"h-20 flex flex-col items-center justify-center bg-purple-500/10 hover:bg-purple-500/20 text-purple-500 hover:text-purple-500 border-purple-500/20",onClick:()=>{navigator.clipboard.writeText(s.referralLink),o({title:"Copied!",description:"Referral link copied to clipboard"}),b(!1)},children:[e.jsxs("svg",{className:"h-6 w-6 mb-2",viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),e.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),"Copy Link"]})]}),e.jsx(Z,{children:e.jsx(t,{variant:"outline",onClick:()=>b(!1),children:"Close"})})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30 p-4 rounded-md border border-blue-100 dark:border-blue-900",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Quick Share"}),e.jsxs("div",{className:"flex space-x-2 justify-around",children:[e.jsx(t,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-[#1DA1F2]/10 hover:bg-[#1DA1F2]/20 text-[#1DA1F2]",onClick:()=>{window.open(`https://twitter.com/intent/tweet?text=Join me on MoodSync, the emotion-based social network!&url=${encodeURIComponent(s.referralLink)}`,"_blank")},title:"Share on Twitter",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),e.jsx(t,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-[#1877F2]/10 hover:bg-[#1877F2]/20 text-[#1877F2]",onClick:()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s.referralLink)}`,"_blank")},title:"Share on Facebook",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor",children:e.jsx("path",{d:"M9.198 21.5h4v-8.01h3.604l.396-3.98h-4V7.5a1 1 0 0 1 1-1h3v-4h-3a5 5 0 0 0-5 5v2.01h-2l-.396 3.98h2.396v8.01Z"})})}),e.jsx(t,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-[#25D366]/10 hover:bg-[#25D366]/20 text-[#25D366]",onClick:()=>{window.open(`https://wa.me/?text=Join me on MoodSync, the emotion-based social network! ${encodeURIComponent(s.referralLink)}`,"_blank")},title:"Share on WhatsApp",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.415 14.382c-.298-.149-1.759-.867-2.031-.967-.272-.099-.47-.148-.669.15-.198.296-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.149-.174.198-.298.297-.497.1-.198.05-.371-.025-.52-.074-.149-.668-1.612-.916-2.207-.241-.579-.486-.5-.668-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.064 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.57-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0011.992 0C5.438 0 .102 5.335.1 11.892c-.001 2.096.546 4.142 1.588 5.945L0 24l6.304-1.654a11.881 11.881 0 005.684 1.448h.005c6.554 0 11.89-5.335 11.892-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),e.jsx(t,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-[#0A66C2]/10 hover:bg-[#0A66C2]/20 text-[#0A66C2]",onClick:()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(s.referralLink)}`,"_blank")},title:"Share on LinkedIn",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),e.jsx(t,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-[#EA4335]/10 hover:bg-[#EA4335]/20 text-[#EA4335]",onClick:()=>{window.open(`mailto:?subject=Join me on MoodSync&body=I'm using MoodSync to connect with people based on emotions. Join me using this link: ${s.referralLink}`,"_blank")},title:"Share via Email",children:e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.jsx("polyline",{points:"22,6 12,13 2,6"})]})})]})]})]}),e.jsxs(X,{className:"flex flex-col items-start",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Referral Progress"}),e.jsxs("div",{className:"w-full space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{children:[s.registered," joined"]}),e.jsxs("span",{children:[s.converted," premium"]})]}),e.jsx(F,{value:s.converted/Math.max(5,s.total)*100,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get 5 friends to join as premium members to earn rewards!"})]})]})]})]})};function oe(){const{user:s}=N(),[n,l]=y.useState("overview");return s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Referrals"}),e.jsx("p",{className:"text-muted-foreground",children:"Invite friends to MoodSync and earn rewards"})]}),e.jsx(w,{className:"h-12 w-12 text-primary/40"})]}),e.jsxs(T,{value:n,onValueChange:l,className:"w-full",children:[e.jsxs(I,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"overview",children:"Overview"}),e.jsx(j,{value:"invite",children:"Invite Friends"}),e.jsx(j,{value:"referrals",children:"My Referrals"}),e.jsx(j,{value:"bounty",children:"Earn Bounty"})]}),e.jsx(v,{value:"overview",className:"pt-6",children:e.jsx(le,{})}),e.jsxs(v,{value:"bounty",className:"pt-6",children:[e.jsx(re,{}),e.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Referral Bounty Program"}),e.jsx("p",{className:"text-sm mb-3",children:"Earn tokens by inviting your friends to become premium members!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(f,{className:"mt-0.5",children:"500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Monthly/Quarterly Premium"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Earn 500 tokens when 5 friends you refer subscribe to a monthly or quarterly premium plan"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(f,{className:"mt-0.5",children:"750"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lifetime/Family Plans"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Earn 750 tokens when 5 friends you refer subscribe to a lifetime or family subscription plan"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(f,{className:"mt-0.5",children:"1000"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Lifetime Family Plans"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Earn 1000 tokens when 5 friends you refer subscribe to a lifetime family subscription plan"})]})]})]})]})]}),e.jsx(v,{value:"invite",className:"pt-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"Invite a Friend"}),e.jsx(g,{children:"Enter your friend's email to send them an invitation to join MoodSync"})]}),e.jsx(x,{children:e.jsx(ne,{})})]})}),e.jsx(v,{value:"referrals",className:"pt-6",children:e.jsx(ie,{})})]})]}):e.jsx("div",{children:"Please login to access the referral system"})}function xe(){const{user:s,isLoading:n}=N();return n?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})}):s?e.jsx("div",{className:"container py-8",children:e.jsx(oe,{})}):e.jsx(ee,{to:"/auth"})}export{xe as default};
