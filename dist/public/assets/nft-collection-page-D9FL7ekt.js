import{c as H,r as U,Y as v,j as e,a_ as m,C as r,d as c,e as d,f as x,g as n,ac as q,ae as I,cc as w,o as l,af as G,ab as T,bC as K,aa as F,aU as B,a4 as A,a5 as M,a6 as u,a7 as j,O as Y,aj as g,ad as R,bb as J,a0 as k,B as N,u as O,a as V,bD as W,ce as _,cf as Q,p as C,cg as Z}from"./index-BtgMuIOb.js";import{T as $}from"./target-CpPl0VJV.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=H("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function ee({userId:a}){const[y,f]=U.useState("overview"),{data:t,isLoading:p}=v({queryKey:["/api/token-pool/stats",a],queryFn:async()=>{const s=await fetch("/api/token-pool/stats");if(!s.ok)throw new Error("Failed to fetch pool stats");return s.json()}}),{data:i,isLoading:b}=v({queryKey:["/api/token-pool/top-contributors"],queryFn:async()=>{const s=await fetch("/api/token-pool/top-contributors?limit=10");if(!s.ok)throw new Error("Failed to fetch top contributors");return s.json()}}),h=s=>new Intl.NumberFormat().format(s),L=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),z=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:p?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-32"}),e.jsx(m,{className:"h-32"}),e.jsx(m,{className:"h-32"})]}):t?e.jsxs(e.Fragment,{children:[e.jsxs(r,{children:[e.jsxs(c,{className:"pb-2",children:[e.jsxs(d,{className:"text-xl flex items-center",children:[e.jsx($,{className:"h-5 w-5 mr-2 text-primary"}),"Pool Progress"]}),e.jsxs(x,{children:["Round ",t.distributionRound]})]}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{children:[h(t.totalTokens)," tokens"]}),e.jsxs("span",{children:[h(t.targetTokens)," target"]})]}),e.jsx(q,{value:t.progress,className:"h-3"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx(I,{className:"h-3.5 w-3.5 inline mr-1"}),"Next distribution: ",z(t.nextDistributionDate)]})]})})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"pb-2",children:[e.jsxs(d,{className:"text-xl flex items-center",children:[e.jsx(w,{className:"h-5 w-5 mr-2 text-pink-500"}),"Community Impact"]}),e.jsx(x,{children:"Charity donations from burn pool"})]}),e.jsxs(n,{className:"pt-2",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("span",{className:"text-3xl font-bold",children:L(t.charityImpact)}),e.jsx(l,{variant:"outline",className:"text-xs",children:"Estimated impact"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[e.jsx(G,{className:"h-3.5 w-3.5 inline mr-1"}),t.totalContributors," contributors total"]})]})]}),e.jsxs(r,{children:[e.jsxs(c,{className:"pb-2",children:[e.jsxs(d,{className:"text-xl flex items-center",children:[e.jsx(T,{className:"h-5 w-5 mr-2 text-orange-500"}),"Today's Burns"]}),e.jsx(x,{children:"NFTs burned in the last 24 hours"})]}),e.jsxs(n,{className:"pt-2",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsxs("span",{className:"text-3xl font-bold",children:["+",h(t.todayBurned)]}),e.jsx("div",{children:e.jsxs(l,{variant:"outline",className:"text-xs flex items-center",children:[e.jsx(K,{className:"h-3.5 w-3.5 mr-1"}),"Tokens today"]})})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[e.jsx(F,{className:"h-3.5 w-3.5 inline mr-1"}),"Top contributor: ",t.topContributorUsername]})]})]})]}):e.jsx(r,{className:"col-span-1 md:col-span-3",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center text-center py-4",children:[e.jsx(B,{className:"h-8 w-8 text-muted-foreground mr-3"}),e.jsx("p",{children:"Failed to load token pool data. Please try again later."})]})})})}),e.jsxs(A,{value:y,onValueChange:f,className:"w-full",children:[e.jsxs(M,{className:"grid grid-cols-2 mb-6",children:[e.jsx(u,{value:"overview",children:"Pool Overview"}),e.jsx(u,{value:"leaderboard",children:"Top Contributors"})]}),e.jsx(j,{value:"overview",className:"mt-0",children:e.jsxs(r,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"Token Pool System"}),e.jsx(x,{children:"How burned NFTs benefit the community"})]}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-2 text-primary"}),"What is the Token Pool?"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"The Token Pool is a community fund created when members burn their Emotional NFTs. Each burned NFT contributes 350 tokens to the pool, which is distributed once it reaches the target amount."}),e.jsxs("ul",{className:"text-sm list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-foreground",children:"85%"})," of tokens are distributed to top contributors"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-foreground",children:"15%"})," is donated to mental health organizations"]})]})]}),a&&(t==null?void 0:t.userRank)!==null&&e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[e.jsx(g,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Your Pool Contribution Status"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Your Rank"}),e.jsxs("p",{className:"text-2xl font-bold flex items-center",children:["#",t.userRank,t.userRank<=10&&e.jsx(g,{className:"h-4 w-4 ml-1 text-yellow-400"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tokens Contributed"}),e.jsx("p",{className:"text-2xl font-bold",children:h(t.userTokensBurned)})]})]}),t.projectedRankAfterBurn!==null&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(R,{className:"h-4 w-4 mr-1 text-yellow-400"}),"Burn another NFT to reach rank #",t.projectedRankAfterBurn]})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"h-6 w-6 text-red-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Burn NFTs"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contribute to the pool by burning NFTs you no longer need"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"h-6 w-6 text-amber-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Get Rewards"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Top contributors receive bonus tokens at distribution time"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-6 w-6 text-pink-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Support Charities"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"A portion of all pools is donated to mental health charities"})]})]})]})]})}),e.jsx(k,{children:e.jsx(N,{className:"w-full",children:"Go to Collection to Burn NFTs"})})]})}),e.jsx(j,{value:"leaderboard",className:"mt-0",children:e.jsxs(r,{children:[e.jsxs(c,{children:[e.jsxs(d,{className:"flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Top Pool Contributors"]}),e.jsx(x,{children:"Users who have burned the most NFTs this round"})]}),e.jsx(n,{children:b?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((s,o)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"ml-4 space-y-1 flex-1",children:[e.jsx(m,{className:"h-4 w-1/4"}),e.jsx(m,{className:"h-4 w-1/2"})]}),e.jsx(m,{className:"h-5 w-16"})]},o))}):i!=null&&i.length?e.jsx("div",{className:"space-y-4",children:i.map((s,o)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o===0?"bg-yellow-100 text-yellow-700":o===1?"bg-slate-100 text-slate-700":o===2?"bg-amber-100 text-amber-700":"bg-muted text-muted-foreground"}`,children:s.profilePicture?e.jsx("img",{src:s.profilePicture,alt:s.username,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"font-bold",children:s.rank})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("p",{className:"font-medium flex items-center",children:[s.username,o===0&&e.jsx(g,{className:"h-4 w-4 ml-1 text-yellow-500"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[h(s.tokensBurned)," tokens contributed"]})]}),e.jsxs(l,{variant:o<3?"default":"outline",className:"ml-auto",children:["#",s.rank]})]},s.id))}):e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{children:"No contributors data available"})})}),e.jsx(k,{className:"flex justify-center",children:e.jsxs(N,{variant:"outline",size:"sm",className:"text-xs",children:["View Full Leaderboard",e.jsx(X,{className:"h-3 w-3 ml-1"})]})})]})})]})]})}const E="/assets/individual%20Emotional%20NFt%201-CoBniNws.jpg",P="/assets/individual%20bad%20mood%20Emotional%20NFt%202-CxnUNpSt.jpg",S="/assets/individual%20for%20Anger%20Emotional%20NFt-fDb1JPHd.jpg",D="/assets/individual%20for%20Surprise%20Emotional%20NFt-DdguKtzN.jpg";function ae(){const{user:a,isLoading:y}=O();V();const[f,t]=U.useState("collection"),p=(a==null?void 0:a.isPremium)||!1,i=(a==null?void 0:a.premiumTrialEnd)&&new Date(a.premiumTrialEnd)>new Date,b=i?Math.ceil((new Date(a.premiumTrialEnd).getTime()-Date.now())/(1e3*60*60*24)):0;return e.jsxs(W,{showBackButton:!0,title:"Emotional NFT Collection",children:[e.jsx(_,{...Q.nftCollection}),e.jsxs("div",{className:"container max-w-6xl mx-auto py-4 px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:["Emotional NFT Collection",e.jsx(R,{className:"h-6 w-6 ml-2 text-yellow-400"})]}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Collect and evolve unique digital tokens that represent your emotional journey. Each NFT is tied to your emotional milestones and progress in MoodSync."})]}),p?e.jsxs(l,{variant:"outline",className:"text-lg py-1 px-4 bg-gradient-to-r from-amber-200 to-yellow-400 text-black font-medium",children:[e.jsx(g,{className:"h-4 w-4 mr-1"}),"Premium Member"]}):i?e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs(l,{variant:"outline",className:"mb-1 py-1 px-4 bg-gradient-to-r from-blue-200 to-blue-300 text-blue-900",children:["Trial Mode â€¢ ",b," days left"]}),e.jsx(N,{variant:"default",size:"sm",className:"mt-1",children:"Upgrade to Premium"})]}):e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs(l,{variant:"outline",className:"mb-1 py-1 px-4 bg-muted text-muted-foreground",children:[e.jsx(C,{className:"h-4 w-4 mr-1"}),"Premium Feature"]}),e.jsx(N,{variant:"default",size:"sm",className:"mt-1",children:"Start Free Trial"})]})]}),p||i?e.jsxs(A,{value:f,onValueChange:t,className:"w-full",children:[e.jsxs(M,{className:"grid grid-cols-3 mb-8",children:[e.jsx(u,{value:"collection",children:"My NFT Collection"}),e.jsx(u,{value:"pool",children:"Token Pool"}),e.jsx(u,{value:"about",children:"About NFTs"})]}),e.jsx(j,{value:"collection",className:"mt-0",children:e.jsx(Z,{})}),e.jsx(j,{value:"pool",className:"mt-0",children:e.jsx(ee,{userId:a==null?void 0:a.id})}),e.jsxs(j,{value:"about",className:"mt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs(r,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"What are Emotional NFTs?"}),e.jsx(x,{children:"Understanding your digital collectibles"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[e.jsx("img",{src:E,alt:"Joy Essence NFT",className:"w-full rounded-lg shadow-md"}),e.jsx("img",{src:P,alt:"Melancholy Mastery NFT",className:"w-full rounded-lg shadow-md"})]}),e.jsx("p",{className:"mb-4",children:'Emotional NFTs are unique digital collectibles that represent significant emotional milestones in your MoodSync journey. Unlike traditional NFTs, these are "soulbound" to your account and evolve as you progress.'}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Key Features:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Earn NFTs automatically by completing emotional activities"}),e.jsx("li",{children:"Each NFT provides unique benefits and token boosts"}),e.jsx("li",{children:"NFTs evolve over time as you grow emotionally"}),e.jsx("li",{children:"Premium members can mint, display and gift their NFTs"}),e.jsx("li",{children:"Burn NFTs to contribute to the community token pool"})]})]})]}),e.jsxs(r,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"How To Earn & Use NFTs"}),e.jsx(x,{children:"Maximize your collection's value"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[e.jsx("img",{src:S,alt:"Anger Management NFT",className:"w-full rounded-lg shadow-md"}),e.jsx("img",{src:D,alt:"Surprise Discovery NFT",className:"w-full rounded-lg shadow-md"})]}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"How to Earn NFTs:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 mb-4",children:[e.jsx("li",{children:"Complete daily emotional check-ins consistently"}),e.jsx("li",{children:"Achieve emotional milestones (7-day streaks, etc.)"}),e.jsx("li",{children:"Demonstrate emotional growth patterns"}),e.jsx("li",{children:"Participate in community challenges"}),e.jsx("li",{children:"Reach higher emotional intelligence levels"})]}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Using Your NFTs:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Mint"}),": Costs 350 tokens to make an NFT official"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Display"}),": Showcase on your profile for status"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gift"}),": Share with friends to help their journey"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Burn"}),": Contribute to the token pool to help the community"]})]})]})]})]}),e.jsxs(r,{className:"mt-8",children:[e.jsx(c,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(B,{className:"h-5 w-5 mr-2 text-yellow-500"}),"NFT Rarity Guide"]})}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-1 flex items-center",children:["Common",e.jsx(l,{variant:"outline",className:"ml-2",children:"60%"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic emotional milestones and regular check-ins."}),e.jsx("p",{className:"text-xs mt-2 text-primary",children:"+5% token earning bonus"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-1 flex items-center text-green-500",children:["Uncommon",e.jsx(l,{variant:"outline",className:"ml-2",children:"25%"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"7-day streaks and emotional pattern discoveries."}),e.jsx("p",{className:"text-xs mt-2 text-green-500",children:"+8% token earning bonus"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-1 flex items-center text-blue-500",children:["Rare",e.jsx(l,{variant:"outline",className:"ml-2",children:"10%"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"30-day streaks and significant emotional growth."}),e.jsx("p",{className:"text-xs mt-2 text-blue-500",children:"+12% token earning bonus"})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-1 flex items-center text-purple-500",children:["Legendary",e.jsx(l,{variant:"outline",className:"ml-2",children:"5%"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Exceptional emotional mastery and personal transformation."}),e.jsx("p",{className:"text-xs mt-2 text-purple-500",children:"+15% token earning bonus"})]})]})})]})]})]}):e.jsx(r,{className:"border-dashed border-2",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Premium Feature"}),e.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:"Emotional NFTs are exclusive to premium members. Upgrade to unlock your personal NFT collection that evolves with your emotional journey."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("img",{src:E,alt:"Joy NFT",className:"w-full h-auto rounded-lg opacity-50"}),e.jsx("img",{src:P,alt:"Melancholy NFT",className:"w-full h-auto rounded-lg opacity-50"}),e.jsx("img",{src:S,alt:"Anger NFT",className:"w-full h-auto rounded-lg opacity-50"}),e.jsx("img",{src:D,alt:"Surprise NFT",className:"w-full h-auto rounded-lg opacity-50"})]}),e.jsx(N,{size:"lg",children:"Upgrade to Premium"})]})})})]})]})}export{ae as default};
