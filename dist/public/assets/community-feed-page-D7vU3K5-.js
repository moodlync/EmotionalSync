import{c as we,u as Ce,a as Se,W as Fe,r as T,l as J,Y as M,b as v,j as e,cf as Te,cg as Me,aJ as Pe,aQ as ke,B as r,aK as Ee,aL as Le,aM as Ae,aN as qe,F as _,w as P,x as k,v as Y,y as E,E as ze,D as L,G as Z,H as X,J as ee,K as se,M as i,be as ae,af as A,p as te,z as De,aO as Ge,cz as Oe,a4 as $e,a5 as Ke,a6 as b,a7 as Ie,C as h,d as f,aZ as t,g as p,a0 as q,aT as H,aR as re,A as z,h as U,i as D,o as G,a2 as Qe,at as Ve,ag as Ye,I as He,aI as Ue,e as ie,f as Be,ae as Re,R as N,t as ne,V as x}from"./index-FJB1i4HR.js";import{C as le}from"./circle-plus-DXq7ajXO.js";import{B as We}from"./bookmark-Bw-eOiaC.js";import{L as Je}from"./log-out-BnUgBTG3.js";import{U as _e}from"./user-plus-zORz52E-.js";import{f as ce}from"./format-unr8vqsB.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=we("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Xe=N.object({content:N.string().min(1,"Content is required").max(500,"Content must be less than 500 characters"),emotion:N.enum(["happy","sad","angry","anxious","excited","neutral","joy","sadness","anger","surprise"]).optional(),visibility:N.enum(["public","friends","private"]).default("public")}),es=N.object({content:N.string().min(1,"Comment is required").max(200,"Comment must be less than 200 characters")});function cs(){Ce();const{toast:l}=Se(),d=Fe(),[n,oe]=T.useState("latest"),[m,B]=T.useState(null),[de,O]=T.useState(!1),[c,g]=T.useState(null),j=J({resolver:ne(Xe),defaultValues:{content:"",visibility:"public"}}),w=J({resolver:ne(es),defaultValues:{content:""}}),{data:y,isLoading:me,isError:xe,error:R}=M({queryKey:["/api/community/posts",n],queryFn:async()=>{const s=await x("GET",`/api/community/posts?filter=${n}`);if(!s.ok)throw new Error("Failed to fetch posts");return s.json()},staleTime:1e3*60}),{data:$,isLoading:ue,refetch:ss}=M({queryKey:["/api/community/comments",m],queryFn:async()=>{if(!m)return[];const s=await x("GET",`/api/community/posts/${m}/comments`);if(!s.ok)throw new Error("Failed to fetch comments");return s.json()},enabled:!!m}),{data:C,isLoading:he,error:pe}=M({queryKey:["/api/community/support-groups"],queryFn:async()=>{const s=await x("GET","/api/community/support-groups");if(!s.ok)throw new Error("Failed to fetch support groups");return await s.json()},staleTime:1e3*60*5,enabled:n==="support"}),{data:S,isLoading:je,error:fe}=M({queryKey:["/api/community/expert-tips",c],queryFn:async()=>{const s=await x("GET",`/api/community/expert-tips${c?`?category=${c}`:""}`);if(!s.ok)throw new Error("Failed to fetch expert tips");return await s.json()},staleTime:1e3*60*5,enabled:n==="expertTips"}),K=v({mutationFn:async s=>(await x("POST","/api/community/posts",s)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/posts"]}),O(!1),j.reset(),l({title:"Post created",description:"Your mood has been shared with the community"})},onError:s=>{l({title:"Failed to create post",description:s.message,variant:"destructive"})}}),Ne=v({mutationFn:async s=>(await x("POST",`/api/community/posts/${s}/like`)).json(),onSuccess:s=>{d.invalidateQueries({queryKey:["/api/community/posts"]}),l({title:"Post liked",description:"Your support has been recorded"})},onError:s=>{l({title:"Failed to like post",description:s.message,variant:"destructive"})}}),I=v({mutationFn:async s=>(await x("POST",`/api/community/support-groups/${s}/join`)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/support-groups"]}),l({title:"Group joined",description:"You have successfully joined the support group"})},onError:s=>{l({title:"Failed to join group",description:s.message,variant:"destructive"})}}),Q=v({mutationFn:async s=>(await x("POST",`/api/community/support-groups/${s}/leave`)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/support-groups"]}),l({title:"Group left",description:"You have left the support group"})},onError:s=>{l({title:"Failed to leave group",description:s.message,variant:"destructive"})}}),V=v({mutationFn:async({postId:s,content:a})=>(await x("POST",`/api/community/posts/${s}/comments`,{content:a})).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/community/comments",m]}),d.invalidateQueries({queryKey:["/api/community/posts"]}),w.reset(),l({title:"Comment added",description:"Your comment has been posted"})},onError:s=>{l({title:"Failed to add comment",description:s.message,variant:"destructive"})}}),ge=s=>{K.mutate(s)},ye=s=>{m&&V.mutate({postId:m,content:s.content})},F=s=>s.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().substring(0,2),W=s=>{const a=new Date(s),o=Math.floor((new Date().getTime()-a.getTime())/1e3);return o<60?`${o}s ago`:o<3600?`${Math.floor(o/60)}m ago`:o<86400?`${Math.floor(o/3600)}h ago`:o<604800?`${Math.floor(o/86400)}d ago`:ce(a,"MMM d, yyyy")},ve=s=>{switch(s){case"happy":return"😊";case"sad":return"😢";case"angry":return"😠";case"anxious":return"😰";case"excited":return"😃";case"neutral":return"😐";case"joy":return"😄";case"sadness":return"😥";case"anger":return"😡";case"surprise":return"😮";default:return""}},be=s=>{switch(s){case"public":return e.jsx(ae,{className:"h-4 w-4"});case"friends":return e.jsx(A,{className:"h-4 w-4"});case"private":return e.jsx(te,{className:"h-4 w-4"});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(Te,{...Me.community}),e.jsxs("div",{className:"container max-w-4xl py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Community Feed"}),e.jsx("p",{className:"text-muted-foreground",children:"Share and discover emotions with the MoodSync community"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Pe,{open:de,onOpenChange:O,children:[e.jsx(ke,{asChild:!0,children:e.jsxs(r,{className:"flex gap-2 bg-gradient-to-r from-primary to-primary-foreground/90",children:[e.jsx(le,{className:"h-4 w-4"}),"Share Your Mood"]})}),e.jsxs(Ee,{className:"sm:max-w-[500px]",children:[e.jsxs(Le,{children:[e.jsx(Ae,{children:"Share Your Mood"}),e.jsx(qe,{children:"Express how you're feeling right now and share it with the community."})]}),e.jsx(_,{...j,children:e.jsxs("form",{onSubmit:j.handleSubmit(ge),className:"space-y-4",children:[e.jsx(P,{control:j.control,name:"content",render:({field:s})=>e.jsxs(k,{children:[e.jsx(Y,{children:"What's on your mind?"}),e.jsx(E,{children:e.jsx(ze,{placeholder:"Share your thoughts, feelings, or experiences...",className:"min-h-[100px]",...s})}),e.jsx(L,{})]})}),e.jsx(P,{control:j.control,name:"emotion",render:({field:s})=>e.jsxs(k,{children:[e.jsx(Y,{children:"How are you feeling?"}),e.jsxs(Z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(E,{children:e.jsx(X,{children:e.jsx(ee,{placeholder:"Select your current emotion"})})}),e.jsxs(se,{children:[e.jsx(i,{value:"happy",children:"Happy 😊"}),e.jsx(i,{value:"sad",children:"Sad 😢"}),e.jsx(i,{value:"angry",children:"Angry 😠"}),e.jsx(i,{value:"anxious",children:"Anxious 😰"}),e.jsx(i,{value:"excited",children:"Excited 😃"}),e.jsx(i,{value:"neutral",children:"Neutral 😐"}),e.jsx(i,{value:"joy",children:"Joy 😄"}),e.jsx(i,{value:"sadness",children:"Sadness 😥"}),e.jsx(i,{value:"anger",children:"Anger 😡"}),e.jsx(i,{value:"surprise",children:"Surprise 😮"})]})]}),e.jsx(L,{})]})}),e.jsx(P,{control:j.control,name:"visibility",render:({field:s})=>e.jsxs(k,{children:[e.jsx(Y,{children:"Who can see this?"}),e.jsxs(Z,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(E,{children:e.jsx(X,{children:e.jsx(ee,{placeholder:"Select visibility"})})}),e.jsxs(se,{children:[e.jsx(i,{value:"public",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:"Public - Anyone on MoodSync"})]})}),e.jsx(i,{value:"friends",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{children:"Friends Only"})]})}),e.jsx(i,{value:"private",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{children:"Private - Only Me"})]})})]})]}),e.jsx(De,{children:s.value==="public"?"Your post will be visible to all MoodSync users.":s.value==="friends"?"Only your connections will see this post.":"Only you will see this post."}),e.jsx(L,{})]})}),e.jsx(Ge,{children:e.jsx(r,{type:"submit",disabled:K.isPending,className:"w-full sm:w-auto",children:K.isPending?"Posting...":"Share Mood"})})]})})]})]}),e.jsx(r,{variant:"outline",size:"icon",children:e.jsx(Oe,{className:"h-4 w-4"})})]})]}),e.jsxs($e,{defaultValue:"latest",value:n,onValueChange:oe,children:[e.jsxs(Ke,{className:"w-full sm:w-auto",children:[e.jsx(b,{value:"latest",children:"Latest"}),e.jsx(b,{value:"trending",children:"Trending"}),e.jsx(b,{value:"similar",children:"Similar Moods"}),e.jsx(b,{value:"support",children:"Support Groups"}),e.jsx(b,{value:"expertTips",children:"Expert Tips"})]}),e.jsxs(Ie,{value:n,className:"mt-6 space-y-6",children:[me?Array.from({length:3}).map((s,a)=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t,{className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(t,{className:"h-4 w-[120px]"}),e.jsx(t,{className:"h-3 w-[80px]"})]})]}),e.jsx(t,{className:"h-8 w-8 rounded-full"})]})}),e.jsxs(p,{className:"pb-3",children:[e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-3/4"})]}),e.jsx(q,{className:"flex justify-between pt-2",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(t,{className:"h-8 w-16"}),e.jsx(t,{className:"h-8 w-16"}),e.jsx(t,{className:"h-8 w-16"})]})})]},a)):xe?e.jsx(h,{className:"overflow-hidden",children:e.jsxs(p,{className:"pt-6 flex flex-col items-center justify-center space-y-4",children:[e.jsx(H,{className:"h-12 w-12 text-destructive"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Failed to Load Posts"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:R instanceof Error?R.message:"An unknown error occurred"})]}),e.jsx(r,{onClick:()=>d.invalidateQueries({queryKey:["/api/community/posts"]}),children:"Try Again"})]})}):y&&y.length===0?e.jsx(h,{className:"overflow-hidden",children:e.jsxs(p,{className:"pt-6 flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"h-24 w-24 rounded-full bg-primary/5 flex items-center justify-center",children:e.jsx(re,{className:"h-12 w-12 text-primary/40"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"No Posts Yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:n==="latest"?"Be the first to share your mood with the community":n==="trending"?"No trending posts at the moment":n==="similar"?"No users with similar moods found":"No support groups available yet"})]}),e.jsxs(r,{onClick:()=>O(!0),className:"bg-gradient-to-r from-primary to-primary-foreground/90",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Share Your Mood"]})]})}):y==null?void 0:y.map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{children:s.profilePicture?e.jsx(U,{src:s.profilePicture,alt:s.username}):e.jsx(D,{children:F(s.username)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:s.username}),s.isPremium&&e.jsx(G,{variant:"outline",className:"px-1 bg-amber-50 text-amber-700 border-amber-200",children:"PRO"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:W(s.createdAt)})]}),s.emotion&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsxs("span",{children:["Feeling ",s.emotion]}),e.jsx("span",{children:ve(s.emotion)})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm",children:[be(s.visibility),e.jsx("span",{className:"capitalize hidden sm:inline",children:s.visibility})]})]})}),e.jsxs(p,{className:"pb-3",children:[e.jsx("p",{className:"whitespace-pre-line",children:s.content}),s.mediaUrl&&e.jsx("div",{className:"mt-3 rounded-md overflow-hidden",children:s.mediaType==="image"?e.jsx("img",{src:s.mediaUrl,alt:"Post media",className:"w-full h-auto max-h-[300px] object-cover"}):s.mediaType==="video"?e.jsx("video",{src:s.mediaUrl,controls:!0,className:"w-full h-auto max-h-[300px]"}):null})]}),e.jsxs(q,{className:"pt-2 flex flex-col gap-2",children:[e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(r,{variant:"ghost",size:"sm",className:`gap-2 ${s.userHasLiked?"text-primary":""}`,onClick:()=>Ne.mutate(s.id),children:[e.jsx(Ve,{className:`h-4 w-4 ${s.userHasLiked?"fill-current":""}`}),e.jsx("span",{children:s.likeCount})]}),e.jsxs(r,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>m===s.id?B(null):B(s.id),children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:s.commentCount})]}),e.jsxs(r,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Share"})]})]}),e.jsxs(r,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only sm:not-sr-only",children:"Save"})]})]}),m===s.id&&e.jsxs("div",{className:"w-full pt-2 border-t mt-2",children:[e.jsx("div",{className:"mb-4",children:e.jsx(_,{...w,children:e.jsxs("form",{onSubmit:w.handleSubmit(ye),className:"flex gap-2",children:[e.jsx(P,{control:w.control,name:"content",render:({field:a})=>e.jsxs(k,{className:"flex-1",children:[e.jsx(E,{children:e.jsx(He,{placeholder:"Write a comment...",...a})}),e.jsx(L,{})]})}),e.jsx(r,{type:"submit",size:"sm",disabled:V.isPending,children:V.isPending?e.jsx("span",{className:"animate-spin",children:"⏳"}):e.jsx(Ue,{className:"h-4 w-4"})})]})})}),e.jsx("div",{className:"space-y-4",children:ue?e.jsx("div",{className:"space-y-3",children:Array.from({length:2}).map((a,u)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t,{className:"h-8 w-8 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(t,{className:"h-4 w-[100px]"}),e.jsx(t,{className:"h-3 w-full"})]})]},u))}):$&&$.length>0?e.jsx("div",{className:"space-y-4",children:$.map(a=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx(z,{className:"h-8 w-8",children:a.profilePicture?e.jsx(U,{src:a.profilePicture,alt:a.username}):e.jsx(D,{children:F(a.username)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"font-medium text-sm",children:a.username}),e.jsx("span",{className:"text-xs text-muted-foreground",children:W(a.createdAt)})]}),e.jsx("p",{className:"text-sm mt-1",children:a.content})]}),e.jsxs("div",{className:"flex gap-4 mt-1 ml-2",children:[e.jsx(r,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-muted-foreground hover:text-foreground",children:"Like"}),e.jsx(r,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-muted-foreground hover:text-foreground",children:"Reply"})]})]})]},a.id))}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No comments yet. Be the first to comment!"})})})]})]})]},s.id)),n==="support"&&e.jsx("div",{className:"space-y-6",children:he?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:[1,2,3].map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(t,{className:"h-6 w-[200px] mb-2"}),e.jsx(t,{className:"h-4 w-[300px]"})]}),e.jsx(t,{className:"h-8 w-20 rounded-full"})]})}),e.jsxs(p,{className:"pb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-4",children:[1,2,3].map(a=>e.jsx(t,{className:"h-6 w-20 rounded-full"},a))}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(a=>e.jsx(t,{className:"h-8 w-8 rounded-full"},a))}),e.jsx(t,{className:"h-4 w-[150px]"})]})]}),e.jsx(q,{className:"pb-4",children:e.jsx(t,{className:"h-10 w-full"})})]},s))}):pe?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(H,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load support groups"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We couldn't load the support groups. Please try again later."}),e.jsx(r,{onClick:()=>d.invalidateQueries({queryKey:["/api/community/support-groups"]}),children:"Try Again"})]}):C!=null&&C.length?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:C.map(s=>{var a;return e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(ie,{className:"text-xl flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-primary"}),s.name]}),e.jsx(Be,{children:s.description})]}),e.jsxs(G,{variant:s.isMember?"outline":"default",children:[s.memberCount," ",s.memberCount===1?"Member":"Members"]})]})}),e.jsxs(p,{className:"pb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-4",children:s.tags.map(u=>e.jsx(G,{variant:"secondary",className:"text-xs",children:u},u))}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex -space-x-2",children:[s.recentMembers.slice(0,3).map((u,o)=>e.jsx(z,{className:"border-2 border-background h-8 w-8",children:e.jsx(D,{children:F(u.username)})},o)),s.memberCount>3&&e.jsxs("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-muted border-2 border-background text-xs font-medium",children:["+",s.memberCount-3]})]}),e.jsx("span",{children:s.isMember?"You're a member":s.memberCount>0?`${(a=s.recentMembers[0])==null?void 0:a.username} and others are members`:"Be the first to join"})]})]}),e.jsx(q,{className:"pb-4",children:e.jsx(r,{variant:s.isMember?"outline":"default",className:"w-full",disabled:s.isMember?Q.isPending:I.isPending,onClick:()=>{s.isMember?Q.mutate(s.id):I.mutate(s.id)},children:s.isMember?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),Q.isPending?"Leaving...":"Leave Group"]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),I.isPending?"Joining...":"Join Group"]})})})]},s.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(A,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No support groups found"}),e.jsx("p",{className:"text-muted-foreground",children:"There are no support groups available at the moment."})]})}),n==="expertTips"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(r,{variant:c===null?"default":"outline",size:"sm",onClick:()=>g(null),children:"All Topics"}),e.jsx(r,{variant:c==="anxiety"?"default":"outline",size:"sm",onClick:()=>g("anxiety"),children:"Anxiety"}),e.jsx(r,{variant:c==="depression"?"default":"outline",size:"sm",onClick:()=>g("depression"),children:"Depression"}),e.jsx(r,{variant:c==="anger"?"default":"outline",size:"sm",onClick:()=>g("anger"),children:"Anger"}),e.jsx(r,{variant:c==="general"?"default":"outline",size:"sm",onClick:()=>g("general"),children:"General Wellness"})]})}),je?e.jsx("div",{className:"space-y-6",children:[1,2,3].map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"h-6 w-3/4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"h-10 w-10 rounded-full"}),e.jsxs("div",{children:[e.jsx(t,{className:"h-4 w-[100px]"}),e.jsx(t,{className:"h-3 w-[150px]"})]})]})]})}),e.jsxs(p,{children:[e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-3/4"})]})]},s))}):fe?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(H,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load expert tips"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We couldn't load the expert tips. Please try again later."}),e.jsx(r,{onClick:()=>d.invalidateQueries({queryKey:["/api/community/expert-tips"]}),children:"Try Again"})]}):S!=null&&S.length?e.jsx("div",{className:"space-y-6",children:S.map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(ie,{className:"text-xl",children:s.title}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(z,{children:s.expertImageUrl?e.jsx(U,{src:s.expertImageUrl,alt:s.expertName}):e.jsx(D,{children:F(s.expertName)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.expertName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.expertCredentials})]})]})]})}),e.jsxs(p,{children:[e.jsx("p",{className:"whitespace-pre-line",children:s.content}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:s.tags.map(a=>e.jsx(G,{variant:"outline",className:"text-xs",children:a},a))}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[e.jsx(Re,{className:"h-3 w-3 inline mr-1"}),"Published on ",ce(new Date(s.publishedDate),"MMMM d, yyyy")]})]})]},s.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(Ze,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No expert tips found"}),e.jsx("p",{className:"text-muted-foreground",children:c?`No tips found for ${c}. Try selecting a different category.`:"There are no expert tips available at the moment."})]})]})]})]})]})]})}export{cs as default};
