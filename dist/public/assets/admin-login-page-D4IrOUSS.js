import{aT as b,a as h,r as n,j as e,V as y}from"./index-BtgMuIOb.js";function f(){const[,c]=b(),{toast:o}=h(),[t,d]=n.useState(!1),[u,x]=n.useState(""),[i,g]=n.useState(""),p=async a=>{a.preventDefault(),d(!0);try{const s=await y("POST","/api/admin/login",{username:l,password:i});if(!s.ok){const m=await s.json();throw new Error(m.error||m.message||"Failed to login")}const r=await s.json(),l=r&&r.username?r.username:"admin";o({title:"Login successful",description:`Welcome back, ${l}!`}),c("/admin"),setTimeout(()=>{window.location.href="/admin"},300)}catch(s){o({title:"Login failed",description:s instanceof Error?s.message:"Invalid username or password",variant:"destructive"})}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 dark:bg-gray-950 p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Admin Portal"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your credentials to login"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:u,onChange:a=>x(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900 dark:text-white dark:bg-gray-800 dark:border-gray-700",placeholder:"Enter username",required:!0,disabled:t})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:i,onChange:a=>g(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900 dark:text-white dark:bg-gray-800 dark:border-gray-700",placeholder:"••••••••",required:!0,disabled:t})]}),e.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50",children:t?"Logging in...":"Log in"})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Protected area - Authorized personnel only"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This system is secured and monitored"})]})]})})}export{f as default};
