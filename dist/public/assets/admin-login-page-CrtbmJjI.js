import{aH as f,a as w,r as b,aj as v,j as e,C as N,d as y,e as C,f as F,g as L,ak as k,al as d,am as c,an as m,as as u,I as x,ar as p,B as z,k as S,s as E,aD as n,t as P,aE as R}from"./index-vCbmY8Kg.js";const H=n.object({username:n.string().min(1,"Username is required"),password:n.string().min(1,"Password is required")});function q(){const[,h]=f(),{toast:o}=w(),[r,i]=b.useState(!1),t=v({resolver:R(H),defaultValues:{username:"",password:""}}),g=async a=>{i(!0);try{const s=await P("POST","/api/admin/login",a);if(!s.ok){const l=await s.json();throw new Error(l.error||l.message||"Failed to login")}const j=await s.json();o({title:"Login successful",description:`Welcome back, ${j.username}!`}),h("/admin")}catch(s){o({title:"Login failed",description:s instanceof Error?s.message:"Invalid username or password",variant:"destructive"})}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-blue-900 p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:16px] mask-image"}),e.jsx("div",{className:"absolute h-full w-full backdrop-blur-[1px]"}),e.jsxs(N,{className:"w-full max-w-md shadow-xl backdrop-blur-sm bg-white/95 border-gray-300 border-opacity-30 z-10",children:[e.jsxs(y,{className:"space-y-1",children:[e.jsx(C,{className:"text-2xl font-bold text-center bg-gradient-to-r from-purple-700 to-blue-600 bg-clip-text text-transparent",children:"Secure Admin Portal"}),e.jsx(F,{className:"text-center",children:"Authentication required - Enter administrator credentials"})]}),e.jsx(L,{children:e.jsx(k,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(g),className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"username",render:({field:a})=>e.jsxs(c,{children:[e.jsx(m,{children:"Username"}),e.jsx(u,{children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{placeholder:"Enter username",className:"pr-10",autoComplete:"off",...a,disabled:r,"aria-autocomplete":"none","data-lpignore":"true"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-muted-foreground",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})]})}),e.jsx(p,{})]})}),e.jsx(d,{control:t.control,name:"password",render:({field:a})=>e.jsxs(c,{children:[e.jsx(m,{children:"Password"}),e.jsx(u,{children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{type:"password",placeholder:"••••••••",className:"pr-10 font-mono tracking-widest",autoComplete:"off",...a,disabled:r,"aria-autocomplete":"none","data-lpignore":"true","data-form-type":"password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-muted-foreground",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]})}),e.jsx(p,{})]})}),e.jsx(z,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Log in"})]})})}),e.jsxs(E,{className:"flex flex-col items-center space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground font-bold",children:"Protected area - Authorized personnel only"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure access with high-level encryption"})]})]})]})}export{q as default};
