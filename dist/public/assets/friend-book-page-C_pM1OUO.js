import{c as de,r as l,a as Z,j as e,C as M,d as _,e as J,at as re,f as W,g as L,aw as pe,L as C,A as D,i as A,b9 as Me,B as n,I as b,a0 as Fe,aW as Ie,l as Te,aX as Pe,aK as V,aR as G,aL as z,aM as Q,aN as K,aO as me,F as Le,w as Y,x as $,v as O,y as q,D as R,E as X,G as ie,H as le,J as oe,K as ce,M as U,z as ve,aP as ue,aG as Ue,aH as Ye,aI as $e,aU as Oe,aF as Se,o as B,ac as qe,R as T,t as Re,a1 as De,aJ as fe,bX as Ve,ah as P,u as ze,bh as ye,ar as Ee,Y as He,aq as Ne,a4 as Be,a5 as _e,a6 as te,af as be,a7 as ne,bl as Je,bd as We,bV as Ge,N as we,S as Qe}from"./index-BtgMuIOb.js";import{R as Ke,a as Xe}from"./radio-group-CqiHjIFO.js";import{C as Ae}from"./checkbox-Bi-cxhYG.js";import{C as Ce}from"./circle-plus-ys5p9aJD.js";import{B as Ze}from"./badge-check-DnWfFIlK.js";import{T as es}from"./thumbs-up-DXvDZdVZ.js";import{T as ss,F as as,L as ts}from"./twitter-C4YuHPsu.js";import{F as ns}from"./file-text-Dbxp9B-z.js";import{I as rs}from"./image-CCVM2qYe.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=de("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=de("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=de("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),ke=[{id:1,name:"Mental Health Alliance",description:"Supporting mental health initiatives and providing resources for those in need.",category:"Health",logoUrl:"",website:"https://example.org/mha",impact:"Helped over 10,000 people access mental health resources last year."},{id:2,name:"Emotional Wellness Foundation",description:"Promoting emotional intelligence and wellness through education and outreach.",category:"Education",logoUrl:"",website:"https://example.org/ewf",impact:"Funded educational programs in over 500 schools worldwide."},{id:3,name:"Global Mood Support",description:"Providing crisis intervention and support for those dealing with mood disorders.",category:"Crisis Support",logoUrl:"",website:"https://example.org/gms",impact:"Operates 24/7 support lines in 15 countries and multiple languages."}];function cs({tokenBalance:m,onDonate:k}){const[u,y]=l.useState(null),[o,j]=l.useState(10),[r,c]=l.useState(""),[x,N]=l.useState(!1),{toast:F}=Z(),I=t=>{j(t[0]),N(!1)},p=t=>{const f=t.target.value;c(f),N(!0),f&&!isNaN(Number(f))&&j(Math.min(Number(f),m))},S=()=>{var f;if(u===null){F({title:"No charity selected",description:"Please select a charity to donate to.",variant:"destructive"});return}const t=x?Number(r):o;if(isNaN(t)||t<=0){F({title:"Invalid amount",description:"Please enter a valid donation amount.",variant:"destructive"});return}if(t>m){F({title:"Insufficient tokens",description:"You don't have enough tokens for this donation.",variant:"destructive"});return}k(u,t),F({title:"Donation successful!",description:`You've donated ${t} tokens to ${(f=ke.find(E=>E.id===u))==null?void 0:f.name}. Thank you for your generosity!`}),y(null),j(10),c(""),N(!1)};return e.jsxs(M,{className:"w-full max-w-2xl mx-auto",children:[e.jsxs(_,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"text-primary h-5 w-5"}),"Donate to Charity"]}),e.jsx(W,{children:"Use your tokens to support charities promoting mental health and emotional wellness."})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 font-medium",children:"Your token balance"}),e.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[e.jsx(pe,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{className:"font-bold",children:m}),e.jsx("span",{className:"text-muted-foreground",children:"available tokens"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 font-medium",children:"Select a charity"}),e.jsx(Ke,{value:u==null?void 0:u.toString(),onValueChange:t=>y(Number(t)),children:e.jsx("div",{className:"grid gap-4",children:ke.map(t=>e.jsxs(C,{htmlFor:`charity-${t.id}`,className:`flex items-start p-4 border rounded-lg cursor-pointer transition-colors ${u===t.id?"border-primary bg-primary/5":"hover:bg-accent"}`,children:[e.jsx(Xe,{value:t.id.toString(),id:`charity-${t.id}`,className:"mt-1"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(D,{className:"h-6 w-6",children:e.jsx(A,{className:"bg-primary/20 text-primary",children:t.name.charAt(0)})}),e.jsx("span",{className:"font-medium",children:t.name})]}),e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:t.description}),e.jsx("div",{className:"text-xs bg-secondary/50 inline-block px-2 py-0.5 rounded-full",children:t.category})]})]},t.id))})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 font-medium",children:"Donation amount"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Me,{value:[o],onValueChange:I,max:Math.max(100,m),step:1,className:x?"opacity-50":""}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[e.jsx("span",{children:"1 token"}),e.jsxs("span",{children:[Math.max(100,m)," tokens"]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(n,{type:"button",variant:x?"outline":"default",className:"w-full",onClick:()=>{N(!1)},children:[o," tokens"]})}),e.jsx("div",{className:"text-center",children:"or"}),e.jsx("div",{className:"flex-1",children:e.jsx(b,{type:"number",placeholder:"Custom amount",value:r,onChange:p,className:"w-full",max:m,min:1})})]})]})]})]}),e.jsx(Fe,{children:e.jsxs(n,{onClick:S,disabled:!u||o<=0||o>m,className:"w-full",children:["Donate ",x&&r?r:o," Tokens",e.jsx(Ie,{className:"ml-2 h-4 w-4"})]})})]})}const ds=T.object({title:T.string().min(5,"Title must be at least 5 characters").max(100,"Title must be less than 100 characters"),description:T.string().min(20,"Description must be at least 20 characters").max(1e3,"Description must be less than 1000 characters"),reasonForFund:T.string().min(20,"Please provide a reason why you've created this fund").max(500,"Reason must be less than 500 characters"),targetAmount:T.coerce.number().min(100,"Target amount must be at least 100").max(1e5,"Target amount must be less than 100,000"),category:T.string().min(1,"Please select a category"),endDate:T.string().optional(),termsAccepted:T.boolean().refine(m=>m===!0,{message:"You must accept the terms and tax declaration to create a fund"})}),ms=[{id:1,userId:2,username:"MeditationMaster",title:"Help with Medical Bills",description:"I'm facing unexpected medical expenses after being diagnosed with anxiety disorder. Any support would help me get the treatment I need.",reasonForFund:"I lost my health insurance recently and need support for therapy sessions that are essential for my recovery.",targetAmount:5e3,currentAmount:3250,currency:"USD",status:"active",startDate:new Date(Date.now()-14*24*60*60*1e3),endDate:new Date(Date.now()+30*24*60*60*1e3),isVerified:!0,donorCount:43,category:"Medical"},{id:2,userId:3,username:"WellnessWarrior",title:"Help Me Finish My Degree",description:"I've been struggling with financial hardship while trying to complete my psychology degree. Your support would help me focus on my studies.",reasonForFund:"I've been working two jobs to pay for school, and it's taking a toll on my mental health. This fund would allow me to reduce my work hours.",targetAmount:3500,currentAmount:980,currency:"USD",status:"active",startDate:new Date(Date.now()-5*24*60*60*1e3),endDate:null,isVerified:!0,donorCount:18,category:"Education"},{id:3,userId:4,username:"EmotionalSupport",title:"Support for Family Crisis",description:"Our family is going through a difficult time with multiple challenges. We need community support to get through this period.",reasonForFund:"My parent was recently diagnosed with a serious illness, and I've had to take time off work to provide care, creating financial strain.",targetAmount:2e3,currentAmount:1875,currency:"USD",status:"active",startDate:new Date(Date.now()-21*24*60*60*1e3),endDate:new Date(Date.now()+10*24*60*60*1e3),isVerified:!1,donorCount:32,category:"Crisis Support"}],us=["Mental Health","Emotional Support","Therapy","Education","Crisis Support","Family Support","Medical","Housing","Food Insecurity","Transportation","Utilities","Other"];function hs({tokenBalance:m,onDonate:k,onCreateCampaign:u,isPremiumUser:y}){const[o,j]=l.useState(null),[r,c]=l.useState(""),[x,N]=l.useState(""),[F,I]=l.useState("recent"),[p,S]=l.useState(!1),[t,f]=l.useState(!1),[E,H]=l.useState(!1),{toast:w}=Z(),g=Te({resolver:Re(ds),defaultValues:{title:"",description:"",reasonForFund:"",targetAmount:100,category:"",endDate:"",termsAccepted:!1}}),ee=[...ms.filter(s=>s.title.toLowerCase().includes(x.toLowerCase())||s.description.toLowerCase().includes(x.toLowerCase())||s.username.toLowerCase().includes(x.toLowerCase())||s.category.toLowerCase().includes(x.toLowerCase()))].sort((s,d)=>{switch(F){case"recent":return d.startDate.getTime()-s.startDate.getTime();case"popular":return d.donorCount-s.donorCount;case"funded":return d.currentAmount/d.targetAmount-s.currentAmount/s.targetAmount;default:return 0}}),se=()=>{if(!o)return;const s=Number(r);if(isNaN(s)||s<=0){w({title:"Invalid amount",description:"Please enter a valid donation amount.",variant:"destructive"});return}if(s>m){w({title:"Insufficient tokens",description:"You don't have enough tokens for this donation.",variant:"destructive"});return}k(o.id,s),w({title:"Donation successful!",description:`You've donated ${s} tokens to ${o.title}. Thank you for your support!`}),c(""),j(null),f(!1)},h=s=>{if(!y){w({title:"Premium Feature",description:"Creating funds is only available for premium users with a monthly, quarterly, yearly, lifetime or family plan subscription.",variant:"destructive"});return}H(!0)},ae=()=>{const s=g.getValues(),d={title:s.title,description:s.description,reasonForFund:s.reasonForFund,targetAmount:s.targetAmount,category:s.category,endDate:s.endDate?new Date(s.endDate):null,currency:"USD",status:"active",startDate:new Date};u(d),w({title:"Fund created successfully!",description:"Your CrisalFund has been created and will appear on the home page for community support."}),H(!1),g.reset(),S(!1)},a=s=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(s),i=s=>{if(!s)return"No end date";const d=s.getTime()-Date.now(),v=Math.ceil(d/(1e3*60*60*24));return v>0?`${v} days left`:"Ended"};return e.jsxs(M,{className:"w-full",children:[e.jsx(_,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-5 w-5"}),"CrisalFund"]}),e.jsx(W,{children:"Request support from the community when you're facing a personal crisis"})]}),y?e.jsxs(V,{open:p,onOpenChange:S,children:[e.jsx(G,{asChild:!0,children:e.jsxs(n,{className:"gap-1.5",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Create Fund"]})}),e.jsxs(z,{className:"sm:max-w-[550px]",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Create CrisalFund"}),e.jsx(me,{children:"Share your situation with the community and request support during difficult times"})]}),e.jsx(Le,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(h),className:"space-y-4",children:[e.jsx(Y,{control:g.control,name:"title",render:({field:s})=>e.jsxs($,{children:[e.jsx(O,{children:"Fund Title"}),e.jsx(q,{children:e.jsx(b,{placeholder:"Brief title explaining your need",...s})}),e.jsx(R,{})]})}),e.jsx(Y,{control:g.control,name:"description",render:({field:s})=>e.jsxs($,{children:[e.jsx(O,{children:"Situation Description"}),e.jsx(q,{children:e.jsx(X,{placeholder:"Describe your current situation and how the funds will help",className:"min-h-[100px]",...s})}),e.jsx(R,{})]})}),e.jsx(Y,{control:g.control,name:"reasonForFund",render:({field:s})=>e.jsxs($,{children:[e.jsx(O,{children:"Why you created this fund"}),e.jsx(q,{children:e.jsx(X,{placeholder:"Explain why you've created this fund and what led to your current situation",className:"min-h-[80px]",...s})}),e.jsx(R,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Y,{control:g.control,name:"targetAmount",render:({field:s})=>e.jsxs($,{children:[e.jsx(O,{children:"Target Amount (USD)"}),e.jsx(q,{children:e.jsx(b,{type:"number",min:100,...s})}),e.jsx(R,{})]})}),e.jsx(Y,{control:g.control,name:"category",render:({field:s})=>e.jsxs($,{children:[e.jsx(O,{children:"Category"}),e.jsxs(ie,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(q,{children:e.jsx(le,{children:e.jsx(oe,{placeholder:"Select category"})})}),e.jsx(ce,{children:us.map(d=>e.jsx(U,{value:d,children:d},d))})]}),e.jsx(R,{})]})})]}),e.jsx(Y,{control:g.control,name:"endDate",render:({field:s})=>e.jsxs($,{children:[e.jsx(O,{children:"End Date (Optional)"}),e.jsx(q,{children:e.jsx(b,{type:"date",...s})}),e.jsx(ve,{children:"Leave blank for an ongoing fund"}),e.jsx(R,{})]})}),e.jsx(Y,{control:g.control,name:"termsAccepted",render:({field:s})=>e.jsxs($,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(q,{children:e.jsx(Ae,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(O,{children:"Tax and Legal Declaration"}),e.jsx(ve,{children:"I understand that I am responsible for any applicable taxes on funds received and that MoodSync is not liable for any taxation purposes or fraudulent activity. Creating a fund will require additional verification."})]}),e.jsx(R,{})]})}),e.jsx(ue,{children:e.jsx(n,{type:"submit",children:"Continue"})})]})})]})]}):e.jsxs(Ue,{children:[e.jsx(Ye,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"gap-1.5",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Create Fund"]})}),e.jsx($e,{className:"w-80",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Premium Feature"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating a CrisalFund is only available to premium subscribers with a monthly, quarterly, yearly, lifetime, or family plan."}),e.jsx(n,{className:"w-full mt-2",variant:"default",size:"sm",children:"Upgrade to Premium"})]})})]})]})}),e.jsxs(L,{className:"space-y-4",children:[e.jsx(V,{open:E,onOpenChange:H,children:e.jsxs(z,{className:"sm:max-w-[550px]",children:[e.jsxs(Q,{children:[e.jsx(K,{children:"Tax Declaration Form"}),e.jsx(me,{children:"Please provide the following information for tax and identification purposes."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"fullName",children:"Full Legal Name"}),e.jsx(b,{id:"fullName",placeholder:"Enter your full legal name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"taxId",children:"Tax ID / Social Security Number"}),e.jsx(b,{id:"taxId",placeholder:"Enter your tax ID number",type:"password"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This information is securely stored and only used for tax reporting purposes."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"address",children:"Legal Address"}),e.jsx(X,{id:"address",placeholder:"Enter your full legal address"})]}),e.jsx("div",{className:"space-y-1 rounded-md border p-4 bg-muted/50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:"Important Tax Information"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"By submitting this form, you acknowledge that funds received may be considered taxable income in your jurisdiction. MoodSync is not responsible for any tax liabilities or reporting requirements that may arise from your fundraising activities. You also confirm that all information provided in your fund description is truthful and accurate."})]})]})})]}),e.jsxs(ue,{children:[e.jsx(n,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),e.jsx(n,{onClick:ae,children:"Submit and Create Fund"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Se,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Search funds...",className:"pl-9",value:x,onChange:s=>N(s.target.value)})]}),e.jsxs(ie,{defaultValue:"recent",onValueChange:I,children:[e.jsx(le,{className:"w-[180px]",children:e.jsx(oe,{})}),e.jsxs(ce,{children:[e.jsx(U,{value:"recent",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Most Recent"})]})}),e.jsx(U,{value:"popular",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Most Popular"})]})}),e.jsx(U,{value:"funded",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Most Funded"})]})})]})]})]}),e.jsx("div",{className:"grid gap-4",children:ee.length>0?ee.map(s=>e.jsx(M,{className:"overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{children:e.jsx(A,{children:s.username.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.username}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created ",a(s.startDate)]})]})]}),e.jsx(B,{variant:s.isVerified?"outline":"secondary",className:"flex items-center gap-1",children:s.isVerified?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"h-3.5 w-3.5 text-green-500"}),e.jsx("span",{children:"Verified"})]}):e.jsx("span",{children:"Pending Verification"})})]}),e.jsx("h3",{className:"text-lg font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{children:[e.jsxs("span",{className:"font-medium",children:["$",s.currentAmount.toLocaleString()]})," raised of $",s.targetAmount.toLocaleString()]}),e.jsxs("span",{children:[Math.round(s.currentAmount/s.targetAmount*100),"%"]})]}),e.jsx(qe,{value:s.currentAmount/s.targetAmount*100,className:"h-2"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(B,{variant:"secondary",children:s.category}),e.jsxs(B,{variant:"outline",className:"bg-primary/5",children:[s.donorCount," supporter",s.donorCount!==1?"s":""]}),e.jsx(B,{variant:"outline",className:"bg-primary/5",children:i(s.endDate)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(V,{open:t&&(o==null?void 0:o.id)===s.id,onOpenChange:d=>{f(d),j(d?s:null)},children:[e.jsx(G,{asChild:!0,children:e.jsxs(n,{variant:"default",className:"gap-1.5",children:[e.jsx(pe,{className:"h-4 w-4"}),"Donate Tokens"]})}),e.jsxs(z,{className:"sm:max-w-[400px]",children:[e.jsxs(Q,{children:[e.jsxs(K,{children:["Donate to ",s.title]}),e.jsxs(me,{children:["Support ",s.username," with token donation"]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"donation-amount",children:"Donation Amount (Tokens)"}),e.jsx(b,{id:"donation-amount",type:"number",placeholder:"Enter token amount",value:r,onChange:d=>c(d.target.value),min:1}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Your current balance: ",m," tokens"]})]}),e.jsxs("div",{className:"space-y-1 rounded-md border p-4",children:[e.jsx("div",{className:"font-medium",children:"Why This Fund Matters"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.reasonForFund})]})]}),e.jsxs(ue,{children:[e.jsx(n,{variant:"outline",onClick:()=>{f(!1),j(null)},children:"Cancel"}),e.jsxs(n,{onClick:se,disabled:!r||Number(r)<=0,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Donate Now"]})]})]})]}),e.jsx(n,{variant:"ghost",size:"sm",children:"Share"})]})]})},s.id)):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{children:"No active funds found matching your search."})})})]})]})}const xs=[{value:"feature_request",label:"Feature Request",icon:e.jsx(Ve,{className:"h-4 w-4"})},{value:"bug_report",label:"Bug Report",icon:e.jsx(is,{className:"h-4 w-4"})},{value:"general_feedback",label:"General Feedback",icon:e.jsx(P,{className:"h-4 w-4"})},{value:"compliment",label:"Compliment",icon:e.jsx(es,{className:"h-4 w-4"})},{value:"issue",label:"Issue/Problem",icon:e.jsx(De,{className:"h-4 w-4"})}];function js({onSubmit:m,isAuthenticated:k}){const[u,y]=l.useState(""),[o,j]=l.useState(""),[r,c]=l.useState(""),[x,N]=l.useState(!1),[F,I]=l.useState(!1),{toast:p}=Z(),S=t=>{if(t.preventDefault(),!o.trim()||!r.trim()||!u){p({title:"Incomplete form",description:"Please fill in all the required fields",variant:"destructive"});return}I(!0),m({category:u,title:o,description:r,isAnonymous:x}),p({title:"Feedback submitted",description:"Thank you for your feedback! Our team will review it."}),y(""),j(""),c(""),N(!1),I(!1)};return e.jsxs(M,{children:[e.jsxs(_,{children:[e.jsx(J,{children:"Share Your Feedback"}),e.jsx(W,{children:"Help us improve MoodSync by sharing your thoughts and suggestions"})]}),e.jsxs("form",{onSubmit:S,children:[e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(C,{htmlFor:"category",children:"Feedback Category"}),e.jsxs(ie,{value:u,onValueChange:y,children:[e.jsx(le,{id:"category",children:e.jsx(oe,{placeholder:"Select a category"})}),e.jsx(ce,{children:xs.map(t=>e.jsx(U,{value:t.value,children:e.jsxs("div",{className:"flex items-center",children:[t.icon,e.jsx("span",{className:"ml-2",children:t.label})]})},t.value))})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(C,{htmlFor:"title",children:"Title"}),e.jsx(b,{id:"title",placeholder:"Summarize your feedback in a short title",value:o,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(C,{htmlFor:"description",children:"Description"}),e.jsx(X,{id:"description",placeholder:"Provide details about your feedback, suggestion, or issue...",className:"min-h-[120px]",value:r,onChange:t=>c(t.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"anonymous",checked:x,onCheckedChange:t=>N(t===!0)}),e.jsx(C,{htmlFor:"anonymous",className:"text-sm font-normal cursor-pointer",children:"Submit anonymously"})]}),!k&&!x&&e.jsxs("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:[e.jsx(De,{className:"h-4 w-4 inline-block mr-1"}),e.jsx("span",{children:"You need to be logged in to submit non-anonymous feedback."})]})]}),e.jsx(Fe,{children:e.jsxs(n,{type:"submit",className:"w-full",disabled:F||!k&&!x,children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})})]})]})}const ps="/assets/logo-transparent-png-D3l_eOgI.png";function fs(){const{user:m}=ze(),[k,u]=l.useState(!1);Z();const y=r=>{console.log("Feedback submitted:",r),u(!1)},o=[{title:"Features",links:[{name:"Emotion Journal",href:"/"},{name:"Mood Games",href:"/mood-games"},{name:"Friend Book",href:"/friends"},{name:"Video Sharing",href:"/videos"},{name:"Challenge Dashboard",href:"/user-challenges"}]},{title:"Rewards",links:[{name:"Token Redemption",href:"/tokens"},{name:"Token Milestones",href:"/milestones"},{name:"Referral Program",href:"/referrals"}]},{title:"Premium",links:[{name:"Premium Features",href:"/premium"},{name:"Family Plan",href:"/family"},{name:"Video Editor",href:"/video-editor"},{name:"Premium Chat",href:"/premium/chat"}]},{title:"Support",links:[{name:"Contact Us",href:"/contact"},{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Feedback",onClick:()=>u(!0),href:"#"},{name:"Admin Panel",href:"/admin/login"}]}],j=[{icon:e.jsx(ss,{className:"h-5 w-5"}),href:"#"},{icon:e.jsx(as,{className:"h-5 w-5"}),href:"#"},{icon:e.jsx(ls,{className:"h-5 w-5"}),href:"#"},{icon:e.jsx(os,{className:"h-5 w-5"}),href:"#"},{icon:e.jsx(ts,{className:"h-5 w-5"}),href:"#"}];return e.jsx("footer",{className:"bg-background border-t",children:e.jsxs("div",{className:"container max-w-7xl py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-10",children:[e.jsxs("div",{className:"md:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:ps,alt:"MoodLync Logo",className:"h-10 w-auto"}),e.jsxs("span",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-black font-extrabold",style:{textShadow:"0px 1px 2px rgba(0,0,0,0.1)"},children:"Mood"}),e.jsx("span",{className:"text-red-600 font-extrabold",style:{textShadow:"0px 1px 2px rgba(220,38,38,0.1)"},children:"Lync"})]})]}),e.jsx("p",{className:"text-muted-foreground",children:"An innovative platform that connects people based on their emotional state, fostering authentic conversations and meaningful connections."}),e.jsx("div",{className:"pt-2",children:e.jsxs(V,{open:k,onOpenChange:u,children:[e.jsx(G,{asChild:!0,children:e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Share Feedback"]})}),e.jsx(z,{className:"sm:max-w-[550px]",children:e.jsx(js,{onSubmit:y,isAuthenticated:!!m})})]})})]}),e.jsx("div",{className:"md:col-span-3 grid grid-cols-2 sm:grid-cols-4 gap-8",children:o.map(r=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium",children:r.title}),e.jsx("ul",{className:"space-y-2",children:r.links.map(c=>e.jsx("li",{children:c.onClick?e.jsxs("button",{onClick:c.onClick,className:"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center",children:[e.jsx(ye,{className:"h-3 w-3 mr-1 text-primary"}),c.name]}):e.jsxs(Ee,{href:c.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center",children:[e.jsx(ye,{className:"h-3 w-3 mr-1 text-primary"}),c.name]})},c.name))})]},r.title))})]}),e.jsx("div",{className:"border-t mt-10 pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["© 2025 ",e.jsx("span",{className:"text-black font-medium",children:"MoodLync"})," | Powered by: ",e.jsx("span",{className:"font-medium",children:"Rollover Australia Inc."})," | All rights reserved."]}),e.jsx("div",{className:"flex space-x-4",children:j.map((r,c)=>e.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground transition-colors",children:r.icon},c))})]})})]})})}const xe=[{id:1,username:"EmotionMaster",fullName:"Emma Watson",avatarUrl:"",status:"accepted",isOnline:!0,lastActive:"Just now",bio:"Exploring the depths of human emotions through art and mindfulness.",mutualFriends:4,isPremium:!0},{id:2,username:"MindfulJourney",fullName:"Michael Chen",avatarUrl:"",status:"accepted",isOnline:!1,lastActive:"2 hours ago",bio:"Mental health advocate and meditation enthusiast.",mutualFriends:2,isPremium:!1},{id:3,username:"SereneThoughts",fullName:"Sophia Martinez",avatarUrl:"",status:"pending_sent",isOnline:!1,lastActive:"Yesterday",bio:"Finding peace in every moment.",mutualFriends:1,isPremium:!0},{id:4,username:"CalmSpirit",fullName:"David Johnson",avatarUrl:"",status:"pending_received",isOnline:!0,lastActive:"Just now",bio:"Sharing tools for emotional resilience.",mutualFriends:3,isPremium:!1},{id:5,username:"JoyfulDays",fullName:"Lisa Thompson",avatarUrl:"",status:"accepted",isOnline:!0,lastActive:"Just now",bio:"Spreading positivity and mindfulness techniques.",mutualFriends:5,isPremium:!0}],gs=[{id:1,userId:1,username:"EmotionMaster",avatarUrl:"",content:"Just completed a 30-day mindfulness challenge! My emotional awareness has improved so much. Has anyone else tried this?",imageUrl:"",timestamp:"2 hours ago",likes:15,comments:3,isLiked:!1,visibilityLevel:"public"},{id:2,userId:5,username:"JoyfulDays",avatarUrl:"",content:"Found this amazing guided meditation that helped me through a tough anxiety spike today. Sharing for anyone who might need it!",videoUrl:"",timestamp:"Yesterday",likes:28,comments:7,isLiked:!0,visibilityLevel:"friends"},{id:3,userId:2,username:"MindfulJourney",avatarUrl:"",content:"Wrote a new entry in my mood journal today. It's incredible how writing down your emotions can bring clarity.",timestamp:"3 days ago",likes:9,comments:1,isLiked:!1,visibilityLevel:"close_friends"}],je={1:[{id:1,senderId:1,receiverId:0,content:"Hey there! How's your emotional wellness journey going?",timestamp:"10:15 AM",isRead:!0},{id:2,senderId:0,receiverId:1,content:"It's been quite a journey! The mindfulness exercises are really helping me stay centered.",timestamp:"10:18 AM",isRead:!0},{id:3,senderId:1,receiverId:0,content:"That's wonderful to hear! I found a new guided meditation you might like.",timestamp:"10:20 AM",isRead:!0}],5:[{id:4,senderId:5,receiverId:0,content:"Thanks for accepting my friend request!",timestamp:"Yesterday",isRead:!0},{id:5,senderId:0,receiverId:5,content:"Happy to connect! How did you discover MoodSync?",timestamp:"Yesterday",isRead:!0}]};function Ds(){var ae;const[m,k]=l.useState(""),[u,y]=l.useState("timeline"),[o,j]=l.useState(null),[r,c]=l.useState(""),[x,N]=l.useState(""),[F,I]=l.useState("friends"),{toast:p}=Z(),S=xe.filter(a=>a.username.toLowerCase().includes(m.toLowerCase())||a.fullName&&a.fullName.toLowerCase().includes(m.toLowerCase())),t=S.filter(a=>a.status==="accepted"),f=S.filter(a=>a.status==="pending_sent"||a.status==="pending_received"),E=()=>{!o||!r.trim()||(p({title:"Message sent",description:`Your message has been sent to ${o.username}`}),c(""))},H=()=>{x.trim()&&(p({title:"Post created",description:"Your post has been shared with your friends."}),N(""))},w=(a,i)=>{let s="";switch(i){case"accept":s=`You are now friends with ${a.username}`;break;case"reject":s=`Friend request from ${a.username} has been declined`;break;case"add":s=`Friend request sent to ${a.username}`;break;case"remove":s=`${a.username} has been removed from your friends`;break;case"block":s=`${a.username} has been blocked`;break}p({title:"Friend action completed",description:s})},g=(a,i)=>{p({title:"Charity donation successful",description:`You have donated ${i} tokens to charity #${a}`})},ge=(a,i)=>{p({title:"Campaign donation successful",description:`You have donated ${i} tokens to campaign #${a}`})},ee=a=>{p({title:"Campaign created",description:"Your fundraising campaign has been created successfully"})},se=(a,i)=>{let s="";switch(i){case"like":s=a.isLiked?`You unliked ${a.username}'s post`:`You liked ${a.username}'s post`;break;case"comment":s=`Comment added to ${a.username}'s post`;break;case"share":s=`You shared ${a.username}'s post`;break}p({title:"Post action completed",description:s})},{data:h}=He({queryKey:["/api/user"],queryFn:async()=>({id:0,username:"CurrentUser",isPremium:!0,tokenBalance:1250}),retry:!1,refetchOnWindowFocus:!1});return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs("main",{className:"flex-1 container py-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Friend Book"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect with friends and share your emotional journey"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative w-[250px]",children:[e.jsx(Se,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Search friends...",className:"pl-9",value:m,onChange:a=>k(a.target.value)})]}),e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(Ne,{className:"h-4 w-4"})})]})]}),e.jsxs(Be,{value:u,onValueChange:y,className:"space-y-4",children:[e.jsxs(_e,{children:[e.jsxs(te,{value:"timeline",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Timeline"]}),e.jsxs(te,{value:"friends",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Friends"]}),e.jsxs(te,{value:"messages",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Messages"]}),(h==null?void 0:h.isPremium)&&e.jsxs(te,{value:"giving",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Charitable Giving"]})]}),e.jsxs(ne,{value:"timeline",className:"space-y-4",children:[e.jsx(M,{children:e.jsx(L,{className:"pt-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(D,{className:"h-10 w-10",children:e.jsx(A,{children:((ae=h==null?void 0:h.username)==null?void 0:ae.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(X,{placeholder:"Share what's on your mind...",value:x,onChange:a=>N(a.target.value),className:"min-h-[80px]"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{variant:"outline",size:"sm",className:"gap-1",children:[e.jsx(rs,{className:"h-4 w-4"}),"Photo"]}),e.jsxs(n,{variant:"outline",size:"sm",className:"gap-1",children:[e.jsx(Je,{className:"h-4 w-4"}),"Video"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ie,{value:F,onValueChange:a=>I(a),children:[e.jsx(le,{className:"w-[140px]",children:e.jsx(oe,{})}),e.jsxs(ce,{children:[e.jsx(U,{value:"public",children:"Public"}),e.jsx(U,{value:"friends",children:"Friends"}),e.jsx(U,{value:"close_friends",children:"Close Friends"})]})]}),e.jsx(n,{onClick:H,disabled:!x.trim(),children:"Post"})]})]})]})]})})})}),gs.map(a=>{var i;return e.jsx(M,{className:"overflow-hidden",children:e.jsxs(L,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{children:e.jsx(A,{children:a.username.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-1.5",children:[a.username,((i=xe.find(s=>s.id===a.userId))==null?void 0:i.isPremium)&&e.jsx(B,{variant:"outline",className:"bg-yellow-50 border-yellow-200 text-amber-700 text-xs font-normal",children:"Premium"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[a.timestamp,e.jsx("span",{className:"w-1 h-1 rounded-full bg-muted-foreground inline-block"}),a.visibilityLevel==="public"?"Public":a.visibilityLevel==="friends"?"Friends":"Close Friends"]})]})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(We,{className:"h-4 w-4"})})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm",children:a.content})}),a.imageUrl&&e.jsx("div",{className:"rounded-md overflow-hidden border",children:e.jsx("img",{src:a.imageUrl,alt:"Post attachment",className:"w-full object-cover"})}),a.videoUrl&&e.jsx("div",{className:"rounded-md overflow-hidden border",children:e.jsx("div",{className:"aspect-video bg-secondary/30 flex items-center justify-center",children:e.jsx(Ge,{className:"h-12 w-12 opacity-50"})})}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[e.jsx(re,{className:"h-4 w-4",fill:a.isLiked?"currentColor":"none"}),e.jsx("span",{children:a.likes}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:a.comments})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>se(a,"like"),children:[e.jsx(re,{className:"h-4 w-4",fill:a.isLiked?"currentColor":"none"}),a.isLiked?"Unlike":"Like"]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>se(a,"comment"),children:[e.jsx(P,{className:"h-4 w-4"}),"Comment"]})]})]})]})},a.id)})]}),e.jsxs(ne,{value:"friends",className:"space-y-6",children:[f.length>0&&e.jsxs(M,{children:[e.jsxs(_,{children:[e.jsx(J,{className:"text-lg",children:"Pending Friend Requests"}),e.jsx(W,{children:"Accept or decline friend requests"})]}),e.jsx(L,{children:e.jsx("div",{className:"grid gap-4",children:f.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{children:e.jsx(A,{children:a.username.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.username}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.status==="pending_received"?"Sent you a request":"Request sent"})]})]}),e.jsx("div",{className:"flex gap-2",children:a.status==="pending_received"?e.jsxs(e.Fragment,{children:[e.jsx(n,{size:"sm",onClick:()=>w(a,"accept"),children:"Accept"}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>w(a,"reject"),children:"Decline"})]}):e.jsx(n,{size:"sm",variant:"outline",onClick:()=>w(a,"reject"),children:"Cancel Request"})})]},a.id))})})]}),e.jsxs(M,{children:[e.jsxs(_,{children:[e.jsx(J,{className:"text-lg",children:"Your Friends"}),e.jsx(W,{children:"Connect with your friends and see their updates"})]}),e.jsx(L,{children:t.length>0?e.jsx("div",{className:"grid gap-4",children:t.map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{children:e.jsx(A,{children:a.username.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center",children:[a.username,a.isPremium&&e.jsx(B,{className:"ml-2 bg-amber-100 text-amber-700 border-amber-200 text-xs",children:"Premium"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${a.isOnline?"bg-green-500":"bg-gray-300"}`}),a.isOnline?"Online":`Last active: ${a.lastActive}`]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(n,{size:"sm",variant:"outline",children:[e.jsx(P,{className:"h-4 w-4 mr-1"}),"Message"]})}),e.jsxs(z,{className:"sm:max-w-md",children:[e.jsx(Q,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-6 w-6",children:e.jsx(A,{children:a.username.charAt(0).toUpperCase()})}),e.jsxs("span",{children:["Chat with ",a.username]})]})}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto border rounded-md p-4 space-y-4",children:(je[a.id]||[]).map(i=>e.jsx("div",{className:`flex ${i.senderId===0?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`rounded-lg p-3 max-w-[80%] ${i.senderId===0?"bg-primary text-primary-foreground":"bg-secondary"}`,children:[e.jsx("p",{className:"text-sm",children:i.content}),e.jsx("div",{className:`text-xs mt-1 ${i.senderId===0?"text-primary-foreground/70":"text-muted-foreground"}`,children:i.timestamp})]})},i.id))}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(b,{placeholder:"Type your message...",value:r,onChange:i=>c(i.target.value),className:"flex-1"}),e.jsx(n,{size:"icon",onClick:()=>{j(a),E()},disabled:!r.trim(),children:e.jsx(fe,{className:"h-4 w-4"})})]})]})]}),e.jsxs(V,{children:[e.jsx(G,{asChild:!0,children:e.jsx(n,{size:"sm",variant:"ghost",children:e.jsx(Ne,{className:"h-4 w-4"})})}),e.jsxs(z,{children:[e.jsx(Q,{children:e.jsx(K,{children:"Friend Settings"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{htmlFor:"close-friend",children:"Close Friend"}),e.jsx(we,{id:"close-friend"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{htmlFor:"show-updates",children:"Show Updates"}),e.jsx(we,{id:"show-updates",defaultChecked:!0})]}),e.jsx(Qe,{}),e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx(n,{variant:"outline",className:"w-full justify-start text-muted-foreground",onClick:()=>w(a,"remove"),children:"Remove Friend"}),e.jsx(n,{variant:"outline",className:"w-full justify-start text-destructive",onClick:()=>w(a,"block"),children:"Block User"})]})]})]})]})]})]},a.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(be,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Friends Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Add friends to connect and share your emotional journey"}),e.jsx(n,{children:"Find Friends"})]})})]})]}),e.jsx(ne,{value:"messages",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(_,{children:[e.jsx(J,{className:"text-lg",children:"Recent Messages"}),e.jsx(W,{children:"Stay connected with your friends through messages"})]}),e.jsx(L,{children:Object.entries(je).length>0?e.jsx("div",{className:"grid gap-4",children:Object.entries(je).map(([a,i])=>{const s=xe.find(v=>v.id===parseInt(a));if(!s)return null;const d=i[i.length-1];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{children:e.jsx(A,{children:s.username.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.username}),e.jsxs("div",{className:"text-sm text-muted-foreground line-clamp-1 max-w-[200px]",children:[d.senderId===0?"You: ":"",d.content]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:d.timestamp}),e.jsxs(V,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(n,{size:"sm",children:[e.jsx(P,{className:"h-4 w-4 mr-1"}),"Chat"]})}),e.jsxs(z,{className:"sm:max-w-md",children:[e.jsx(Q,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-6 w-6",children:e.jsx(A,{children:s.username.charAt(0).toUpperCase()})}),e.jsxs("span",{children:["Chat with ",s.username]})]})}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto border rounded-md p-4 space-y-4",children:i.map(v=>e.jsx("div",{className:`flex ${v.senderId===0?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`rounded-lg p-3 max-w-[80%] ${v.senderId===0?"bg-primary text-primary-foreground":"bg-secondary"}`,children:[e.jsx("p",{className:"text-sm",children:v.content}),e.jsx("div",{className:`text-xs mt-1 ${v.senderId===0?"text-primary-foreground/70":"text-muted-foreground"}`,children:v.timestamp})]})},v.id))}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(b,{placeholder:"Type your message...",value:r,onChange:v=>c(v.target.value),className:"flex-1"}),e.jsx(n,{size:"icon",onClick:()=>{j(s),E()},disabled:!r.trim(),children:e.jsx(fe,{className:"h-4 w-4"})})]})]})]})]})]},a)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(P,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Messages Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start conversations with your friends to see them here"}),e.jsx(n,{children:"Start Messaging"})]})})]})}),(h==null?void 0:h.isPremium)&&e.jsx(ne,{value:"giving",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(cs,{tokenBalance:(h==null?void 0:h.tokenBalance)||0,onDonate:g})}),e.jsx("div",{children:e.jsx(hs,{tokenBalance:(h==null?void 0:h.tokenBalance)||0,onDonate:ge,onCreateCampaign:ee,isPremiumUser:!!(h!=null&&h.isPremium)})})]})})]})]}),e.jsx(fs,{})]})}export{Ds as default};
